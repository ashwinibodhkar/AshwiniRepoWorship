(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{Lnxd:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("q1tI"),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=n.createContext&&n.createContext(r),c=function(){return(c=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},o=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&(a[n[r]]=e[n[r]])}return a};function s(e){return function(t){return n.createElement(u,c({attr:c({},e.attr)},t),function e(t){return t&&t.map((function(t,a){return n.createElement(t.tag,c({key:a},t.attr),e(t.child))}))}(e.child))}}function u(e){var t=function(t){var a,r=e.size||t.size||"1em";t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className);var l=e.attr,s=e.title,u=o(e,["attr","title"]);return n.createElement("svg",c({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,l,u,{className:a,style:c({color:e.color||t.color},t.style,e.style),height:r,width:r,xmlns:"http://www.w3.org/2000/svg"}),s&&n.createElement("title",null,s),e.children)};return void 0!==l?n.createElement(l.Consumer,null,(function(e){return t(e)})):t(r)}},d1ca:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return F}));var n=a("q1tI"),r=a.n(n),l=a("YwZP"),c=a("kD0k"),o=a.n(c),s=(a("ls82"),a("/S4K")),u=a("Wbzz"),i=a("y6RJ"),m=(a("i3qi"),a("AThg")),p=a("7vrA"),E=a("3Z9Z"),f=a("JI6e"),d=a("QojX"),g=a("Z3vd"),h=a("Bl7J"),b=a("ma3e");function y(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),l=Object(n.useRef)(),c=Object(n.useRef)(),i=Object(n.useRef)(),h=Object(n.useState)(!1),y=h[0],v=h[1],x=Object(n.useState)(""),O=x[0],w=x[1],j=Object(n.useContext)(m.a),k=j.signup,N=(j.currentUser,j.googleLogin),L=j.facebookLogin;function C(){return(C=Object(s.a)(o.a.mark((function n(r){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),t.current.value===a.current.value){n.next=5;break}w("Passwords do not match"),n.next=16;break;case 5:return n.prev=5,v(!0),n.next=9,k(e.current.value,t.current.value);case 9:w(""),Object(u.navigate)("/"),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(5),w("Failed to signup");case 16:v(!1);case 17:case"end":return n.stop()}}),n,null,[[5,13]])})))).apply(this,arguments)}function S(){return(S=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,N();case 4:Object(u.navigate)("/"),w(""),console.log("Google Sign in succesful"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("google login failed");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function F(){return(F=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,L();case 4:Object(u.navigate)("/"),w(""),console.log("Facebook Sign in succesful"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Facebook login failed");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{fluid:!0,className:"userInput pt-1 pb-5"},r.a.createElement(p.a,{className:"cont "},r.a.createElement(E.a,null,r.a.createElement(f.a,null,r.a.createElement("h6",null,r.a.createElement(b.a,null),r.a.createElement(u.Link,{to:"/"}," Home")))),r.a.createElement("h1",{className:"text-center text-white pt-2 pb-3"},"Sign up"),r.a.createElement(d.a,{onSubmit:function(e){return C.apply(this,arguments)}},O,r.a.createElement(E.a,null,r.a.createElement(f.a,{xs:12},r.a.createElement(d.a.Label,null,"What should we call you : ")),r.a.createElement(f.a,{xs:12},r.a.createElement(d.a.Control,{type:"text",placeholder:"Enter your name",id:"userName",ref:l,required:!0}))),r.a.createElement(E.a,null,r.a.createElement(f.a,{xs:12},r.a.createElement(d.a.Label,null,"What's your email :")),r.a.createElement(f.a,{xs:12},r.a.createElement(d.a.Control,{type:"email",placeholder:"Enter your email",id:"userEmail",ref:e}))),r.a.createElement(E.a,null,r.a.createElement(f.a,{xs:12},r.a.createElement(d.a.Label,null,"City :")),r.a.createElement(f.a,{xs:12},r.a.createElement(d.a.Control,{type:"text",placeholder:"city",id:"userCity",ref:c,required:!0}))),r.a.createElement(E.a,null,r.a.createElement(f.a,{xs:12},r.a.createElement(d.a.Label,null,"Your church's name:")),r.a.createElement(f.a,{xs:12},r.a.createElement(d.a.Control,{type:"text",placeholder:"church name",id:"userChurch",ref:i}))),r.a.createElement(E.a,null,r.a.createElement(f.a,{xs:12},r.a.createElement(d.a.Label,null,"Create a password :")),r.a.createElement(f.a,{xs:12},r.a.createElement(d.a.Control,{type:"password",placeholder:"Create a password",id:"userId",ref:t}))),r.a.createElement(E.a,null,r.a.createElement(f.a,{xs:12},r.a.createElement(d.a.Label,null,"Re-Enter password :")),r.a.createElement(f.a,{xs:12},r.a.createElement(d.a.Control,{type:"password",placeholder:"Re-Enter password",id:"userId",ref:a}))),r.a.createElement(E.a,null,r.a.createElement(f.a,{className:"signupButton text-center pt-2 pb-2"},r.a.createElement(u.Link,{to:"/favourites"},r.a.createElement(g.a,{type:"submit",disabled:y},"Sign up")))),r.a.createElement(E.a,null,r.a.createElement(f.a,{className:"text-center"},r.a.createElement("p",null,"Already have account ",r.a.createElement(u.Link,{to:"/user/login"},"Login here")))),r.a.createElement(E.a,null,r.a.createElement(f.a,{className:"social text-center"},r.a.createElement("hr",null),r.a.createElement("p",null,"Or just sign in with your social account"),r.a.createElement(E.a,null,r.a.createElement(f.a,{className:"socialIcons text-center"},r.a.createElement(g.a,{disabled:y,onClick:function(){return S.apply(this,arguments)}},r.a.createElement(b.h,null)),r.a.createElement(g.a,{disabled:y,onClick:function(){return F.apply(this,arguments)}},r.a.createElement(b.g,null))))))))))}function v(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useState)(!1),l=a[0],c=a[1],i=Object(n.useState)(""),h=i[0],y=i[1],v=Object(n.useContext)(m.a),x=v.login,O=v.googleLogin,w=v.facebookLogin;function j(){return(j=Object(s.a)(o.a.mark((function a(n){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,c(!0),a.next=5,x(e.current.value,t.current.value);case 5:Object(u.navigate)("/"),y(""),console.log("Sign in succesfull"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),y("Failed to sign in");case 13:c(!1);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))).apply(this,arguments)}function k(){return(k=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,O();case 4:Object(u.navigate)("/"),y(""),console.log("Google Sign in succesful"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("google login failed");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function N(){return(N=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,w();case 4:Object(u.navigate)("/"),y(""),console.log("Facebook Sign in succesful"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Facebook login failed");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{fluid:!0,className:"userInput"},r.a.createElement(p.a,{className:"cont"},r.a.createElement("h1",{className:"text-center text-white pt-5 pb-3"},"Login"),r.a.createElement(d.a,{onSubmit:function(e){return j.apply(this,arguments)}},h,r.a.createElement(E.a,null,r.a.createElement(f.a,{xs:12,md:6,className:"text-center"},r.a.createElement(d.a.Label,null,"What's your email :")),r.a.createElement(f.a,{xs:12,md:6},r.a.createElement(d.a.Control,{type:"email",placeholder:"Enter your email",ref:e,required:!0}))),r.a.createElement(E.a,null,r.a.createElement(f.a,{xs:12,md:6,className:"text-center"},r.a.createElement(d.a.Label,null,"Your password :")),r.a.createElement(f.a,{xs:12,md:6},r.a.createElement(d.a.Control,{type:"password",placeholder:"Your password",id:"userId",ref:t,required:!0}))),r.a.createElement(E.a,null,r.a.createElement(f.a,{className:"signupButton text-center py-1"},r.a.createElement(u.Link,{to:"/favourites"},r.a.createElement(g.a,{type:"submit",disabled:l},"Login")))),r.a.createElement(E.a,null,r.a.createElement(f.a,{className:"text-center"},r.a.createElement("p",null,"Don't have account ",r.a.createElement(u.Link,{to:"/user/signup"},"Sign up here")))),r.a.createElement(E.a,null,r.a.createElement(f.a,{className:"social text-center"},r.a.createElement("hr",null),r.a.createElement("p",null,"Or just Login with your social account"),r.a.createElement(E.a,null,r.a.createElement(f.a,{className:"socialIcons text-center"},r.a.createElement(g.a,{disabled:l,onClick:function(){return k.apply(this,arguments)}},r.a.createElement(b.h,null)),r.a.createElement(g.a,{disabled:l,onClick:function(){return N.apply(this,arguments)}},r.a.createElement(b.g,null))))))))))}a("8o2o");var x=a("FqMR"),O=a("t8Zj"),w=a("LyFZ"),j=a("aGtu"),k=a("vrFN"),N=a("9eSz"),L=a.n(N);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var S=function(){var e,t=Object(u.useStaticQuery)("428988115").LunrIndex,a=w.Index.load(t.index),l=t.store,c=Object(n.useContext)(m.a).currentUser,o=Object(n.useState)(),s=(o[0],o[1],Object(n.useState)([])),d=s[0],g=s[1];c&&(e=i.a.firestore().collection("users").doc(c.uid)),Object(n.useEffect)((function(){null!=c&&e.get().then((function(e){var t=e.data();t.favouriteIds?t.favouriteIds.forEach((function(e){g((function(t){return[].concat(Object(O.a)(t),[e])}))})):console.log("no favourites available")}))}),[]);var b=[],y=[];return d.length&&(d.forEach((function(e){a.search(e).map((function(e){var t=e.ref;return b.push(t)}))})),y=b.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({slug:e},l[e])}))),console.log("user: ",c),r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{title:"Favourites"}),r.a.createElement(h.a,null),r.a.createElement(p.a,{className:"catBg "},c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement(f.a,{xs:12,className:"pt-5 pb-4 text-white text-center"},r.a.createElement("h4",null,c.displayName.split(" ")[0],"'s Favourites"))),y.length?y.map((function(e){return r.a.createElement(E.a,null,r.a.createElement(f.a,{className:"favList pt-2  my-2 text-white text-center "},r.a.createElement("article",{key:e.slug},r.a.createElement("h6",{className:"favTitle"},r.a.createElement(u.Link,{to:e.slug},e.title)),r.a.createElement("p",{className:"favArtist"},e.artist),r.a.createElement(L.a,{src:e.featureImage}))))})):r.a.createElement(E.a,null,r.a.createElement(f.a,{xs:12,className:"py-5 text-white text-center"},r.a.createElement("h6",null,r.a.createElement("span",{role:"img","aria-label":""},"😟"),"seems like you don't have any song in your list"),r.a.createElement("p",{className:"text-center"},r.a.createElement(u.Link,{to:"/allsongs"},"Create your List"))))),!c&&r.a.createElement(E.a,null,r.a.createElement(f.a,{xs:12,className:" my-5 text-white text-center"},r.a.createElement("h6",null,r.a.createElement("span",{role:"img","aria-label":""},"😟"),"You are not logged in."),r.a.createElement("h5",{className:"text-center"},r.a.createElement(u.Link,{to:"/user/login"},"Login To Check Your Favourites"))))),r.a.createElement(j.a,null))};function F(){return r.a.createElement(l.Router,null,r.a.createElement(y,{path:"/user/signup"}),r.a.createElement(v,{path:"/user/login"}),r.a.createElement(S,{path:"/user/favourites"}))}},i3qi:function(e,t,a){},vrFN:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),l=a("qhky"),c=a("Wbzz");function o(e){var t=e.description,a=e.lang,n=e.meta,o=e.image,s=e.title,u=e.pathname,i=Object(c.useStaticQuery)("2052298874").site,m=t||i.siteMetadata.description,p=o&&o.src?""+i.siteMetadata.siteUrl+o.src:null,E=u?""+i.siteMetadata.siteUrl+u:null;return r.a.createElement(l.a,{htmlAttributes:{lang:a},title:s,titleTemplate:"%s | "+i.siteMetadata.title,link:E?[{rel:"canonical",href:E}]:[],meta:[{name:"description",content:m},{name:"keywords",content:i.siteMetadata.keywords},{property:"og:title",content:s},{property:"og:description",content:m},{property:"og:type",content:"website"},{name:"twitter:creator",content:i.siteMetadata.author},{name:"twitter:title",content:s},{name:"twitter:description",content:m}].concat(o?[{property:"og:image",itemprop:"image",content:p},{property:"og:image:width",content:o.width},{property:"og:image:height",content:o.height},{name:"twitter:card",content:"summary_large_image"}]:[{name:"twitter:card",content:"summary"}]).concat(n)})}o.defaultProps={lang:"en",meta:[],description:""},t.a=o}}]);
//# sourceMappingURL=component---src-pages-user-js-2f161470cf4752ac181f.js.map